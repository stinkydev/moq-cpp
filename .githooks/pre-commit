#!/bin/sh
#
# Pre-commit hook to run cargo fmt and clippy
#

set -e

echo "Running cargo fmt..."
if ! cargo fmt --check; then
    echo "âŒ Code formatting check failed!"
    echo "ğŸ’¡ Run 'cargo fmt' to fix formatting issues"
    exit 1
fi

echo "Running cargo clippy..."
if ! cargo clippy --all-targets --all-features -- -D warnings; then
    echo "âŒ Clippy check failed!"
    echo "ğŸ’¡ Fix the clippy warnings above"
    exit 1
fi

echo "âœ… All checks passed!"